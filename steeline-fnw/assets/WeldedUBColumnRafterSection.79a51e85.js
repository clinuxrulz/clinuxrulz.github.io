import{a as t}from"./index.5aba22ff.js";import{b as c,T as P,Q as M}from"./Component.6024a649.js";import{a as r}from"./Vec3.ce1f4f7a.js";import{U as j,F as E}from"./PropertiesForm.c69fa44e.js";class d{constructor(e){let B=t(()=>!e.hasPlateAtEnd()||e.makeEndPlateLongerForMullion==null?!1:e.makeEndPlateLongerForMullion()),o=t(()=>Math.cos(e.frontBackCutAngle()*Math.PI/180)),S=t(()=>Math.sin(e.frontBackCutAngle()*Math.PI/180)),b=t(()=>Math.cos(e.backBackCutAngle()*Math.PI/180)),A=t(()=>Math.sin(e.backBackCutAngle()*Math.PI/180));t(()=>e.plateThickness()/o()),t(()=>e.plateThickness()/b());let z=t(()=>e.ubMemberProperties().webSize/o()+100),C=t(()=>B()?50:0),T=t(()=>{let n=C();return e.ubMemberProperties().webSize/b()+100+n}),a=()=>e.ubMemberProperties().flangeSize,F=t(()=>{let n=e.length()-e.plateThickness()/o()-e.plateThickness()/b();return new c({itemName:()=>e.ubMemberProperties().itemName,ubProperties:()=>new j({webSize:e.ubMemberProperties().webSize,flangeSize:e.ubMemberProperties().flangeSize,thickness:e.ubMemberProperties().thickness}),length:()=>n,frontBackCutAngle:()=>e.frontBackCutAngle(),backBackCutAngle:()=>e.backBackCutAngle(),transform:()=>P.create(r.create(e.plateThickness()/o(),0,0),M.identity)})}),N=t(()=>{let n=o(),i=S(),u=Math.tan(e.frontBackCutAngle()*Math.PI/180),h=e.ubMemberProperties().webSize*Math.tan(Math.abs(e.frontBackCutAngle())*Math.PI/180),g=e.frontBackCutAngle()>0?h:0,s=50;return new c({itemName:()=>"Flat Bar "+a().toFixed(0)+"x"+e.plateThickness(),length:z,flatProperties:()=>new E({width:a(),thickness:e.plateThickness()}),transform:()=>P.create(r.create(g+e.plateThickness()*u*i+s*i,-e.plateThickness()*u*n-s*n,0),M.fromUV(r.create(-i,n,0),r.unitZ))})}),y=t(()=>{if(!e.hasPlateAtEnd())return;let n=b(),i=A(),u=Math.tan(e.backBackCutAngle()*Math.PI/180),h=e.ubMemberProperties().webSize*Math.tan(Math.abs(e.backBackCutAngle())*Math.PI/180),g=e.backBackCutAngle()>0?-h:0,s=C(),f=50+s;return new c({itemName:()=>"Flat Bar "+a().toFixed(0)+"x"+e.plateThickness(),length:T,flatProperties:()=>new E({width:a(),thickness:e.plateThickness()}),transform:()=>P.create(r.create(e.length()+g-e.plateThickness()*u*i-f*i,-e.plateThickness()*u*n-f*n,0),M.fromUV(r.create(i,n,0),r.unitZ))})}),x=t(()=>{let n=[],i=e.stiffenerPlateOffsets;if(i==null)return n;let u=.5*e.ubMemberProperties().flangeSize-e.ubMemberProperties().thickness,h=e.ubMemberProperties().webSize-2*e.ubMemberProperties().thickness,g=[0,.5*e.ubMemberProperties().flangeSize+.5*e.ubMemberProperties().thickness];for(let s of i())for(let f of g)n.push(new c({itemName:()=>"Flat Bar "+u.toFixed(0)+"x"+e.plateThickness().toFixed(0),length:()=>h,flatProperties:()=>new E({width:u,thickness:e.plateThickness()}),transform:()=>P.create(r.create(s,e.ubMemberProperties().thickness,f),M.fromUV(r.unitY,r.unitZ))}));return n});const p=t(()=>1+(e.hasPlateAtEnd()?1:0)),U=t(()=>{let n=e.stiffenerPlateOffsets,i;return n==null?i=[]:i=n(),new c({itemName:()=>"Weld Labour",qty:()=>p()+i.length})});this.params=e,this.components=t(()=>{let n=[];n.push(F(),N(),U());let i=y();i!=null&&n.push(i);let u=[x()];for(let h of u)for(let g of h)n.push(g);return n})}}class ee{constructor(e){let B=t(()=>e.pitch()*Math.PI/180),o=t(()=>Math.cos(B())),S=t(()=>Math.sin(B())),b=t(()=>Math.tan(B())),A=t(()=>-e.pitch()),z=t(()=>-e.pitch()),C=t(()=>e.pitch()),T=t(()=>e.height()+(e.girtHeight()+e.ubMemberProperties().webSize)*b()),a=t(()=>{let l=e.height()+(e.girtHeight()+e.ubMemberProperties().webSize)*b()-(e.purlinHeight()+e.ubMemberProperties().webSize)/o();return[l,l+e.ubMemberProperties().webSize/o()]}),F=new d({length:T,frontBackCutAngle:()=>0,backBackCutAngle:A,ubMemberProperties:e.ubMemberProperties,plateThickness:e.plateThickness,hasPlateAtEnd:()=>!1,stiffenerPlateOffsets:a}),N=t(()=>P.create(r.create(e.girtHeight()+e.ubMemberProperties().webSize,0,0),M.fromWU(r.negUnitY,r.unitZ))),y=new d({length:T,frontBackCutAngle:()=>0,backBackCutAngle:A,ubMemberProperties:e.ubMemberProperties,plateThickness:e.plateThickness,hasPlateAtEnd:()=>!1,stiffenerPlateOffsets:a}),x=t(()=>P.create(r.create(e.span()-e.girtHeight()-e.ubMemberProperties().webSize,-e.ubMemberProperties().flangeSize,0),M.fromWU(r.unitY,r.unitZ))),p=t(()=>(.5*e.span()-e.girtHeight()-e.ubMemberProperties().webSize)/o()+e.ubMemberProperties().webSize*b()),U=new d({length:p,frontBackCutAngle:z,backBackCutAngle:C,ubMemberProperties:e.ubMemberProperties,plateThickness:e.plateThickness,hasPlateAtEnd:()=>!0,makeEndPlateLongerForMullion:()=>e.hasCentreMullion()}),n=t(()=>P.create(r.create(e.ubMemberProperties().webSize+e.girtHeight(),0,e.height()+(e.girtHeight()+e.ubMemberProperties().webSize)*b()-(e.purlinHeight()+e.ubMemberProperties().webSize)/o()),M.fromWU(r.negUnitY,r.create(o(),0,S())))),i=new d({length:p,frontBackCutAngle:z,backBackCutAngle:C,ubMemberProperties:e.ubMemberProperties,plateThickness:e.plateThickness,hasPlateAtEnd:()=>!0,makeEndPlateLongerForMullion:()=>e.hasCentreMullion()}),u=t(()=>P.create(r.create(e.span()-e.ubMemberProperties().webSize-e.girtHeight(),-e.ubMemberProperties().flangeSize,e.height()+(e.girtHeight()+e.ubMemberProperties().webSize)*b()-(e.purlinHeight()+e.ubMemberProperties().webSize)/o()),M.fromWU(r.unitY,r.create(-o(),0,S())))),h=t(()=>{if(!e.hasCentreMullion())return;let l=t(()=>e.height()+.5*e.span()*b()-(e.purlinHeight()+e.ubMemberProperties().webSize)/o());return new d({length:l,frontBackCutAngle:()=>0,backBackCutAngle:()=>0,ubMemberProperties:e.mullionProperties,plateThickness:e.plateThickness,hasPlateAtEnd:()=>!1})}),g=t(()=>P.create(r.create(.5*e.span()-.5*e.mullionProperties().flangeSize-e.plateThickness()-.5*e.mullionProperties().thickness,0,0),M.fromWU(r.unitX,r.unitZ)));const s=(l,k)=>t(()=>l().map(w=>{let m=w;if(m.transform==null)return m;let X=m.transform;return{...m,transform:()=>k().fromThisSpace(X())}})),f=(l,k)=>t(()=>l().map(w=>({...w,usage:k})));let v=f(s(F.components,N),()=>"Column"),Y=f(s(y.components,x),()=>"Column"),Z=f(s(U.components,n),()=>"Rafter"),D=f(s(i.components,u),()=>"Rafter"),W;{let l=h();l!=null?W=f(s(l.components,g),()=>"Mullion"):W=()=>[]}let I=()=>4,H=()=>"M12x30 Bolt",L=()=>"M12 Nut",O=()=>"M12 Washer Round",R=t(()=>{let l=2*I(),k=I();return[new c({itemName:H,qty:()=>l,usage:()=>"Knee"}),new c({itemName:L,qty:()=>l,usage:()=>"Knee"}),new c({itemName:O,qty:()=>l,usage:()=>"Knee"}),new c({itemName:H,qty:()=>k,usage:()=>"Apex"}),new c({itemName:L,qty:()=>k,usage:()=>"Apex"}),new c({itemName:O,qty:()=>k,usage:()=>"Apex"})]}),Q=()=>4,V=()=>"M16 Chemset Studbolt",K=t(()=>{let l=2*Q();return new c({itemName:V,qty:()=>l,usage:()=>"Column"})});this.components=t(()=>{let l=[];l.push(K());let k=[v(),Y(),Z(),D(),W(),R()];for(let w of k)for(let m of w)l.push(m);return l})}}export{ee as W};
