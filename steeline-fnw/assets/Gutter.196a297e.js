import{a as T}from"./index.5aba22ff.js";import{_ as ue,B as J,r as ge,V as fe,aI as me,l as O,b as Q,O as pe,J as ee,K as te,$ as D,T as K,a7 as $,a2 as de,Q as ne}from"./Component.6024a649.js";import{V as W,P as ae,r as ye}from"./LineKit.f6b732de.js";import{c as ce,F as xe}from"./PropertiesForm.c69fa44e.js";import{a as H}from"./Vec3.ce1f4f7a.js";class oe{constructor(e){this.top=0,this.array=new Float32Array(e)}write(e){this.array[this.top++]=e.x,this.array[this.top++]=e.y,this.array[this.top++]=e.z}}class ve{constructor(e){this.top=0,this.array=new Float32Array(e)}write(e){this.array[this.top++]=e.x,this.array[this.top++]=e.y}}class U{constructor(e){this.plane=null,this.front=null,this.back=null,this.polygons=[],e&&this.build(e)}clone(){const e=new U;return e.plane=this.plane&&this.plane.clone(),e.front=this.front&&this.front.clone(),e.back=this.back&&this.back.clone(),e.polygons=this.polygons.map(t=>t.clone()),e}invert(){for(let t=0;t<this.polygons.length;t++)this.polygons[t].flip();this.plane&&this.plane.flip(),this.front&&this.front.invert(),this.back&&this.back.invert();const e=this.front;this.front=this.back,this.back=e}clipPolygons(e){if(!this.plane)return e.slice();let t=new Array,o=new Array;for(let c=0;c<e.length;c++)this.plane.splitPolygon(e[c],t,o,t,o);return this.front&&(t=this.front.clipPolygons(t)),this.back?o=this.back.clipPolygons(o):o=[],t.concat(o)}clipTo(e){this.polygons=e.clipPolygons(this.polygons),this.front&&this.front.clipTo(e),this.back&&this.back.clipTo(e)}allPolygons(){let e=this.polygons.slice();return this.front&&(e=e.concat(this.front.allPolygons())),this.back&&(e=e.concat(this.back.allPolygons())),e}build(e){if(!e.length)return;this.plane||(this.plane=e[0].plane.clone());const t=[],o=[];for(let c=0;c<e.length;c++)this.plane.splitPolygon(e[c],this.polygons,this.polygons,t,o);t.length&&(this.front||(this.front=new U),this.front.build(t)),o.length&&(this.back||(this.back=new U),this.back.build(o))}}class _{constructor(e,t,o,c){this.pos=new W().copy(e),this.normal=new W().copy(t),this.uv=new W().copy(o),this.uv.z=0,c&&(this.color=new W().copy(c))}clone(){return new _(this.pos,this.normal,this.uv,this.color)}flip(){this.normal.negate()}interpolate(e,t){return new _(this.pos.clone().lerp(e.pos,t),this.normal.clone().lerp(e.normal,t),this.uv.clone().lerp(e.uv,t),this.color&&e.color&&this.color.clone().lerp(e.color,t))}}class L{constructor(){this.polygons=new Array}static fromPolygons(e){const t=new L;return t.polygons=e,t}static fromGeometry(e,t){let o=[];const c=e.attributes.position,h=e.attributes.normal,m=e.attributes.uv,Y=e.attributes.color,w=e.groups;let b;if(e.index)b=e.index.array;else{b=new Array(c.array.length/c.itemSize|0);for(let X=0;X<b.length;X++)b[X]=X}const v=b.length/3|0;o=new Array(v);for(let X=0,k=0,M=b.length;X<M;X+=3,k++){const y=new Array(3);for(let P=0;P<3;P++){const N=b[X+P],z=N*3,S=N*2,F=c.array[z],q=c.array[z+1],s=c.array[z+2],i=h.array[z],u=h.array[z+1],n=h.array[z+2],l=m?.array[S],a=m?.array[S+1];y[P]=new _(new W(F,q,s),new W(i,u,n),new W(l,a,0),Y&&new W(Y.array[S],Y.array[S+1],Y.array[S+2]))}if(t===void 0&&w&&w.length>0)for(const P of w)X>=P.start&&X<P.start+P.count&&(o[k]=new ae(y,P.materialIndex));else o[k]=new ae(y,t)}return L.fromPolygons(o.filter(X=>!isNaN(X.plane.normal.x)))}static toGeometry(e,t){let o=0;const c=e.polygons;for(const M of c)o+=M.vertices.length-2;const h=new ue,m=new oe(o*3*3),Y=new oe(o*3*3),w=new ve(o*2*3);let b;const v=[],X=[];for(const M of c){const y=M.vertices,P=y.length;M.shared!==void 0&&(v[M.shared]||(v[M.shared]=[])),P&&y[0].color!==void 0&&(b||(b=new oe(o*3*3)));for(let N=3;N<=P;N++)(M.shared===void 0?X:v[M.shared]).push(m.top/3,m.top/3+1,m.top/3+2),m.write(y[0].pos),m.write(y[N-2].pos),m.write(y[N-1].pos),Y.write(y[0].normal),Y.write(y[N-2].normal),Y.write(y[N-1].normal),w&&(w.write(y[0].uv),w.write(y[N-2].uv),w.write(y[N-1].uv)),b&&(b.write(y[0].color),b.write(y[N-2].color),b.write(y[N-1].color))}h.setAttribute("position",new J(m.array,3)),h.setAttribute("normal",new J(Y.array,3)),w&&h.setAttribute("uv",new J(w.array,2)),b&&h.setAttribute("color",new J(b.array,3));for(let M=0;M<v.length;M++)v[M]===void 0&&(v[M]=[]);if(v.length){let M=[],y=0;for(let P=0;P<v.length;P++)h.addGroup(y,v[P].length,P),y+=v[P].length,M=M.concat(v[P]);h.addGroup(y,X.length,v.length),M=M.concat(X),h.setIndex(M)}const k=new ge().copy(t).invert();return h.applyMatrix4(k),h.computeBoundingSphere(),h.computeBoundingBox(),h}static fromMesh(e,t){const o=L.fromGeometry(e.geometry,t),c=new fe,h=new me;h.getNormalMatrix(e.matrix);for(let m=0;m<o.polygons.length;m++){const Y=o.polygons[m];for(let w=0;w<Y.vertices.length;w++){const b=Y.vertices[w];b.pos.copy(c.copy(b.pos.toVector3()).applyMatrix4(e.matrix)),b.normal.copy(c.copy(b.normal.toVector3()).applyMatrix3(h))}}return o}static toMesh(e,t,o){const c=L.toGeometry(e,t),h=new O(c,o);return h.matrix.copy(t),h.matrix.decompose(h.position,h.quaternion,h.scale),h.rotation.setFromQuaternion(h.quaternion),h.updateMatrixWorld(),h.castShadow=h.receiveShadow=!0,h}static union(e,t){const o=L.fromMesh(e),c=L.fromMesh(t);return L.toMesh(o.union(c),e.matrix,e.material)}static subtract(e,t){const o=L.fromMesh(e),c=L.fromMesh(t);return L.toMesh(o.subtract(c),e.matrix,e.material)}static intersect(e,t){const o=L.fromMesh(e),c=L.fromMesh(t);return L.toMesh(o.intersect(c),e.matrix,e.material)}clone(){const e=new L;return e.polygons=this.polygons.map(t=>t.clone()).filter(t=>Number.isFinite(t.plane.w)),e}toPolygons(){return this.polygons}union(e){const t=new U(this.clone().polygons),o=new U(e.clone().polygons);return t.clipTo(o),o.clipTo(t),o.invert(),o.clipTo(t),o.invert(),t.build(o.allPolygons()),L.fromPolygons(t.allPolygons())}subtract(e){const t=new U(this.clone().polygons),o=new U(e.clone().polygons);return t.invert(),t.clipTo(o),o.clipTo(t),o.invert(),o.clipTo(t),o.invert(),t.build(o.allPolygons()),t.invert(),L.fromPolygons(t.allPolygons())}intersect(e){const t=new U(this.clone().polygons),o=new U(e.clone().polygons);return t.invert(),o.clipTo(t),o.invert(),t.clipTo(o),o.clipTo(t),t.build(o.allPolygons()),t.invert(),L.fromPolygons(t.allPolygons())}inverse(){const e=this.clone();for(const t of e.polygons)t.flip();return e}toMesh(e,t){return L.toMesh(this,e,t)}toGeometry(e){return L.toGeometry(this,e)}}function be(){let I=28,e=762,t=4,o=e/t,c=I,h=I,m=5,Y=5,w=(o-2*c-2*m)/4,b=w,v=w,X=w,k=w,M=m,y=Y,P=c,N=h,z=[{x:0,y:I}],S=(F,q)=>{let s=z[z.length-1];z.push({x:s.x+F,y:s.y+q})};for(let F=0;F<t;++F)S(b,0),S(c,-h),S(v,0),S(m,m),S(X,0),S(M,-y),S(k,0),S(P,N);return z}const we=be();function Xe(){let I=16,e=[],t=762,o=10,c=8;for(let h=0;h<o;++h){let m=t*h/o;for(let Y=0;Y<c;++Y){let w=m+t/o*Y/c,b=2*Math.PI*Y/c,v=Math.sin(b);e.push({x:w,y:.5*(I+I*v)})}}return e}const Ye=Xe();function Me(){let I=27,e=7,t=4,o=14,c=6,h=4,m=27,Y=7,w=14,b=20,v=[{x:0,y:0}],X=(y,P)=>{let N=v[v.length-1];v.push({x:N.x+y,y:N.y+P})},k=6;for(let y=0;y<k;++y)X(I,e),X(t,0),X(o,c),X(h,0),X(m,Y),X(w,-b);let M=762/v[v.length-1].x;for(let y=0;y<v.length;++y)v[y].x*=M;return v}const Pe=Me();function ke(){let I=14,e=19,t=55,o=14,c=19,h=55,m=[{x:0,y:e}],Y=(v,X)=>{let k=m[m.length-1];m.push({x:k.x+v,y:k.y+X})},w=4;for(let v=0;v<w;++v)Y(I,-e),Y(t,0),Y(o,c),Y(h,0);let b=762/m[m.length-1].x;for(let v=0;v<m.length;++v)m[v].x*=b;return m}const Le=ke();let le;function Fe(){if(le!=null)return le;let I=document.createElement("canvas"),e=128;I.width=e,I.height=1;let t=I.getContext("2d");if(t==null)return"";let o=1;for(var c=0;c<e;++c){let m=.762*c/e,Y=2*Math.PI*o/.762,w=.03*Y*Math.cos(Y*m),b=1,X=-(w*b),k=b,M=Math.sqrt(X*X+k*k);X/=M,k/=M;let y=Math.round((X+1)/2*255);y<0&&(y=0),y>255&&(y=255);let P=Math.round((k+1)/2*255);P<0&&(P=0),P>255&&(P=255),t.fillStyle="rgb("+y+", 0, "+P+")",t.fillRect(c,0,1,1)}let h=I.toDataURL("img/png");return le=h,h}let ie;function Be(){if(ie!=null)return ie;let I=28,o=762/4,c=I,h=5,m=(o-2*c-2*h)/4,Y=m,w=m,b=m,v=m,X=h,k=c,M=document.createElement("canvas"),y=256;M.width=y,M.height=1;let P=M.getContext("2d");if(P==null)return"";let N=Y+c+w+h+b+X+v+k,z=[Y,c,w,h,b,X,v,k],S=[];{let g=0;for(let d of z)g+=d,S.push(g)}let F=g=>Math.round((g+1)/2*255),q=F(-Math.SQRT1_2),s=F(Math.SQRT1_2),i=0,u=F(1),n=F(Math.SQRT1_2),l=F(Math.SQRT1_2);for(let g=0;g<y;++g){let d=N*g/(y-1),p;for(let x=0;x<S.length;++x)if(d<S[x]){p=x;break}p==null&&(p=S.length-1);let r,f;switch(p){default:case 0:r=i,f=u;break;case 1:r=n,f=l;break;case 2:r=i,f=u;break;case 3:r=q,f=s;break;case 4:r=i,f=u;break;case 5:r=n,f=l;break;case 6:r=i,f=u;break;case 7:r=q,f=s;break}P.fillStyle="rgb("+r+", 0, "+f+")",P.fillRect(g,0,1,1)}let a=M.toDataURL("img/png");return ie=a,a}class R{constructor(e){this.ranges=e}static single(e,t){return new R([{from:e,to:t}])}static get empty(){return Ne}static get full(){return he}invert(){if(this.ranges.length==0)return he;let e=[];Number.isFinite(this.ranges[0].from)&&e.push({from:Number.NEGATIVE_INFINITY,to:this.ranges[0].from});for(let t=0;t<this.ranges.length-1;++t)e.push({from:this.ranges[t].to,to:this.ranges[t+1].from});return Number.isFinite(this.ranges[this.ranges.length-1].to)&&e.push({from:this.ranges[this.ranges.length-1].to,to:Number.POSITIVE_INFINITY}),new R(e)}union(e){let t=[...this.ranges];for(let o of e.ranges){let c=o.from,h=o.to;for(let m=t.length-1;m>=0;--m)t[m].from<=h&&t[m].to>=c&&(c=Math.min(c,t[m].from),h=Math.max(h,t[m].to),t.splice(m,1));t.push({from:c,to:h})}return t.sort((o,c)=>{let h=o.from-c.from;return h!=0?h:o.to-c.to}),new R(t)}intersect(e){return this.invert().union(e.invert()).invert()}subtract(e){return this.invert().union(e).invert()}}const Ne=new R([]),he=new R([{from:Number.NEGATIVE_INFINITY,to:Number.POSITIVE_INFINITY}]);class Re{constructor(e){let t=T(()=>{let s,i,u,n;for(let l of e.outline())(s==null||l.x<s)&&(s=l.x),(i==null||l.x>i)&&(i=l.x),(u==null||l.y<u)&&(u=l.y),(n==null||l.y>n)&&(n=l.y);if(!(s==null||i==null||u==null||n==null))return{minX:s,minY:u,maxX:i,maxY:n}}),o=T(()=>{if(e.bays==null)return;let s=e.bays(),i=[],u=0;for(let n of s){let l=u+n.baySize;i.push({...n,minX:u,maxX:l}),u=l}return i}),c;{let s={minY:void 0,maxY:void 0};c=(i,u)=>{let n,l;m(i,s),n=s.minY,l=s.maxY,m(u,s),(n==null||s.minY!=null&&s.minY<n)&&(n=s.minY),(l==null||s.maxY!=null&&s.maxY>l)&&(l=s.maxY);for(let r of e.outline())i<r.x&&r.x<u&&((n==null||r.y<n)&&(n=r.y),(l==null||r.y>l)&&(l=r.y));if(s.minY=void 0,s.maxY=void 0,n==null||l==null)return R.empty;let a=o();if(a==null)return R.single(n,l);let g=0;for(let r=0;r<a.length;++r){let f=a[r];if(i<f.maxX){g=r;break}}let d=a.length-1;for(let r=a.length-1;r>=0;--r){let f=a[r];if(u>f.minX){d=r;break}}let p=R.empty;for(let r=g;r<=d;++r){let f=a[r];switch(f.sheetedStyle.type){case"Fully Open":break;case"Fully Sheeted":return R.single(n,l);case"Upper Infill":p=p.union(R.single(f.sheetedStyle.fromHeight,l));break;case"Lower Infill":p=p.union(R.single(n,f.sheetedStyle.toHeight));break;case"Skirted":p=p.union(R.single(f.sheetedStyle.fromHeight,f.sheetedStyle.toHeight));break}}return p}}let h=T(()=>{let s=0;for(let u=0;u<e.outline().length;++u){let n=e.outline()[u],l=e.outline()[(u+1)%e.outline().length];s+=n.cross(l)}return Math.abs(.5*s)}),m=(s,i)=>{i.minY=void 0,i.maxY=void 0;let u=e.outline();for(let n=0;n<u.length;++n){let l=u[n],a=u[(n+1)%u.length],g=Math.min(l.x,a.x),d=Math.max(l.x,a.x);if(g<=s&&s<=d){let p=a.x-l.x,r=a.y-l.y,f=l.y+(s-l.x)*r/p;if(!Number.isFinite(f))continue;i.minY==null||i.maxY==null?(i.minY=f,i.maxY=f):(f<i.minY&&(i.minY=f),f>i.maxY&&(i.maxY=f))}}},Y=(s,i)=>{i.minX=void 0,i.maxX=void 0;let u=e.outline();for(let n=0;n<u.length;++n){let l=u[n],a=u[(n+1)%u.length],g=Math.min(l.y,a.y),d=Math.max(l.y,a.y);if(g<=s&&s<=d){let p=a.x-l.x,r=a.y-l.y,f=l.x+(s-l.y)*p/r;if(!Number.isFinite(f))continue;i.minX==null||i.maxX==null?(i.minX=f,i.maxX=f):(f<i.minX&&(i.minX=f),f>i.maxX&&(i.maxX=f))}}},w=e.sheetingType??(()=>"Corrugated 0.42"),b=e.sheetingDirection??(()=>"Vertical"),v=e.startSheetingAtOppositeEnd??(()=>!1),X=e.sheetingLowPoly??(()=>!1),k=()=>{switch(w()){case"Long Line 305":return 305;default:return 762}},M=()=>{let s=[],i=t();if(i==null)return s;let u=i.minY,n={minX:void 0,maxX:void 0};for(;u<i.maxY;){let l,a;Y(u,n),l=n.minX,a=n.maxX,Y(u+k(),n),(l==null||n.minX!=null&&n.minX<l)&&(l=n.minX),(a==null||n.maxX!=null&&n.maxX>a)&&(a=n.maxX);for(let g of e.outline())u<g.y&&g.y<u+k()&&((l==null||g.x<l)&&(l=g.x),(a==null||g.x>a)&&(a=g.x));if(l!=null&&a!=null){let g=[{minX:l,maxX:a}],d=[],p=u,r=u+k();for(let f of e.openings()){let x=f.pos.x,C=f.pos.x+f.width,V=f.pos.y,A=f.pos.y+f.height;if(V<=p&&A>=r){for(let B of g)if(x<B.maxX&&C>B.minX){let j=B.minX,E=x;j<E&&d.push({minX:j,maxX:E});let Z=C,G=B.maxX;Z<G&&d.push({minX:Z,maxX:G})}else d.push(B);{let B=g;g=d,d=B,d.splice(0,d.length)}}}for(let f of g){let x=f.minX,C=f.maxX;s.push(new Q({itemName:w,usage:e.usage,length:()=>C-x}))}}u+=k()}return s},y=()=>{let s=[],i=t();if(i==null)return s;let u=v(),n=u?i.maxX:i.minX;for(;u?n>i.minX:n<i.maxX;){let l=c(u?n-k():n,u?n:n+k());for(let a of l.ranges){let g=a.from,d=a.to,p=[{minY:g,maxY:d}],r=[],f=n,x=n+k();for(let C of e.openings()){let V=C.pos.x,A=C.pos.x+C.width,B=C.pos.y,j=C.pos.y+C.height;if(V<f&&A>x){for(let E of p)if(B<E.maxY&&j>E.minY){let Z=E.minY,G=B;Z<G&&r.push({minY:Z,maxY:G});let re=j,se=E.maxY;re<se&&r.push({minY:re,maxY:se})}else r.push(E);{let E=p;p=r,r=E,r.splice(0,r.length)}}}for(let C of p){let V=C.minY,A=C.maxY;s.push(new Q({itemName:w,usage:e.usage,length:()=>A-V}))}}n+=u?-k():k()}return s},P=T(()=>{switch(b()){case"Vertical":return y();case"Horizontal":return M()}}),N=()=>{switch(e.type()){default:case"Wall Sheeting":return"Tek Screw Hex W/seal 10x16 Colorbond";case"Roof Sheeting":return"50mm Multi Purpose Roof Screw Colorbond"}},z=T(()=>{let s=Math.round(h()*(200/(18e6/Math.cos(15*Math.PI/180))));return[new Q({itemName:N,usage:e.usage,qty:()=>s})]}),S=T(()=>{let s=t();if(s==null)return;let i=[],u=762,n;switch(w()){case"Corrugated 0.42":n=Ye;break;case"Supersaw":n=Pe;break;case"Unirib":n=Le;break;default:case"Steelclad 0.42":n=we;break}switch(b()){case"Vertical":{let l=s.minX;for(i.push(n[0]);;){let a=!1;for(let g=1;g<n.length;++g){let d=n[g];if(l+d.x>=s.maxX){a=!0;break}i.push({x:l+d.x,y:d.y})}if(a)break;l+=u}break}case"Horizontal":{let l=s.minY;for(i.push(n[0]);;){let a=!1;for(let g=1;g<n.length;++g){let d=n[g];if(l+d.x>=s.maxY){a=!0;break}i.push({x:l+d.x,y:d.y})}if(a)break;l+=u}break}}return i});const F=new pe({color:"#808080",polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1});this.fullSheetedAreaMesh=T(()=>{let s=t();if(s==null)return;let i=s,u=a=>{let g=i,d=o();if(d!=null)for(let p of d)switch(p.sheetedStyle.type){case"Fully Sheeted":continue;case"Fully Open":{let r=new D((p.baySize+.1)/1e3,1,(g.maxY-g.minY)/1e3);r.translate(.5*(p.minX+p.maxX)/1e3,0,.5*(g.minY+g.maxY)/1e3),a=L.subtract(a,new O(r));break}case"Upper Infill":continue;case"Lower Infill":{let r=new D((p.baySize+.1)/1e3,1,(g.maxY-p.sheetedStyle.toHeight)/1e3);r.translate(.5*(p.minX+p.maxX)/1e3,0,.5*(p.sheetedStyle.toHeight+g.maxY)/1e3),a=L.subtract(a,new O(r));break}case"Skirted":continue}return a};if(X()||w()=="Long Line 305"||w()=="Flat"){let a=new ee,g=1/1e3;a.moveTo(e.outline()[0].x*g,e.outline()[0].y*g);for(let r=1;r<e.outline().length;++r)a.lineTo(e.outline()[r].x*g,e.outline()[r].y*g);a.closePath();let d=new te(a,{depth:2*g,bevelEnabled:!1});d.rotateX(90*Math.PI/180);let p=new O(d,F);for(let r of e.openings()){let f=new D(r.width/1e3,1,r.height/1e3);f.translate(r.pos.x/1e3+.5*(r.width/1e3),0,r.pos.y/1e3+.5*(r.height/1e3)),p=L.subtract(p,new O(f))}return p=u(p),p}let n=S();if(n==null)return;let l;switch(b()){case"Vertical":{let a=i.maxY-i.minY,g=3,d=new ee;d.moveTo(n[0].x/1e3,n[0].y/1e3);for(let x=1;x<n.length;++x)d.lineTo(n[x].x/1e3,n[x].y/1e3);for(let x=n.length-1;x>=0;--x)d.lineTo(n[x].x/1e3,(n[x].y+g)/1e3);d.closePath();let p=new te(d,{depth:a/1e3,bevelEnabled:!1});p.translate(0,g/1e3,-a/1e3),p.rotateX(Math.PI);let r=p.attributes.position,f={minY:void 0,maxY:void 0};for(let x=0;x<r.count;++x){let C=r.getX(x),V=r.getZ(x);m(C*1e3,f);let A=f.minY,B=f.maxY;Math.abs(V)<.001&&A!=null&&r.setZ(x,A/1e3),Math.abs(V-a/1e3)<.001&&B!=null&&r.setZ(x,B/1e3)}l=new O(p,F);break}case"Horizontal":{let a=i.maxX-i.minX,g=3,d=new ee;d.moveTo(n[0].x/1e3,n[0].y/1e3);for(let x=1;x<n.length;++x)d.lineTo(n[x].x/1e3,n[x].y/1e3);for(let x=n.length-1;x>=0;--x)d.lineTo(n[x].x/1e3,(n[x].y+g)/1e3);d.closePath();let p=new te(d,{depth:a/1e3,bevelEnabled:!1});p.rotateX(Math.PI),p.rotateY(-.5*Math.PI);let r=p.attributes.position,f={minX:void 0,maxX:void 0};for(let x=0;x<r.count;++x){let C=r.getX(x),V=r.getZ(x);Y(V*1e3,f);let A=f.minX,B=f.maxX;Math.abs(C)<.001&&A!=null&&r.setX(x,A/1e3),Math.abs(C-a/1e3)<.001&&B!=null&&r.setX(x,B/1e3)}l=new O(p,F);break}}for(let a of e.openings()){let g=new D(a.width/1e3,1,a.height/1e3);g.translate(a.pos.x/1e3+.5*(a.width/1e3),0,a.pos.y/1e3+.5*(a.height/1e3)),l=L.subtract(l,new O(g))}return l=u(l),l});let q=T(()=>{let s=this.fullSheetedAreaMesh();if(s==null)return new O;let i=e.previewOpening();if(i==null)return s;let u=new D(i.width/1e3,1,i.height/1e3);return u.translate(i.pos.x/1e3+.5*(i.width/1e3),0,i.pos.y/1e3+.5*(i.height/1e3)),L.subtract(s,new O(u))});this.components=T(()=>[new Q({transform:()=>K.identity,layers:()=>[$.Cladding],mkObject3d:()=>{let s=q(),i=e.colour(),u;ce[i]!=null&&(u=new de({color:ce[i].colourHex,...X()&&e.textures!=null?{normalMap:w().indexOf("Corrugated")!=-1?b()=="Vertical"?e.textures().corroNormalMap:e.textures().horizontalCorroNormalMap:b()=="Vertical"?e.textures().steelCladNormalMap:e.textures().horizontalSteelCladNormalMap}:{},metalness:.1,roughness:.5,reflectivity:.8}));let n=u??s.material;return()=>{let l=new O(s.geometry,n);return l.castShadow=!0,l}},colour:e.colour}),...P(),...z()])}}class Ae{constructor(e){let t=T(()=>[new Q({itemName:()=>"Quad Gutter 0.42 125mm Slotted",layers:()=>[$.Cladding],transform:()=>K.create(H.create(e.length(),-30,0),ne.fromWU(H.unitZ,H.negUnitX)),length:e.length,flashingProfile:()=>ye,colour:T(()=>e.colour?.call(e.colour)??"Basalt")})]),o=T(()=>{let h=T(()=>new xe({width:98,thickness:5}));return[new Q({itemName:()=>"Quad Stop End Left Colorbond",layers:T(()=>[$.Cladding]),qty:()=>1,usage:()=>"Gutter",length:()=>160,flatProperties:h,colour:T(()=>e.colour?.call(e.colour)??"Basalt"),transform:T(()=>K.create(H.create(0,0,0),ne.fromWU(H.unitX,H.negUnitY)))}),new Q({itemName:()=>"Quad Stop End Right Colorbond",layers:T(()=>[$.Cladding]),qty:()=>1,usage:()=>"Gutter",length:()=>160,flatProperties:h,colour:T(()=>e.colour?.call(e.colour)??"Basalt"),transform:T(()=>K.create(H.create(e.length(),0,0),ne.fromWU(H.unitX,H.negUnitY)))})]}),c=T(()=>{let h=Math.ceil(e.length()/1e3)+1;return[new Q({itemName:()=>"Quad Bkt Internal",qty:()=>h,usage:()=>"Gutter"}),new Q({itemName:()=>"Quad Gutter Overstraps",qty:()=>h,usage:()=>"Gutter"})]});this.components=T(()=>[...t(),...o(),...c()])}}export{L as C,Ae as G,R,Re as S,Be as a,Fe as g};
