import{o as J,c as Q,a as C,i as h,b as d,S as Y,M as I,d as O,m as U,I as z,e as E,f as ee,t as c,g as te,F as re}from"./index.5aba22ff.js";import{p as ne,s as le}from"./index.8c394682.js";const ie=c("<table><thead></thead><tbody></tbody></table>"),ue=c('<tr><td><b>:</b></td><td style="width: 100%;"></td></tr>'),oe=c('<button class="btn btn-primary" style="margin-left: 5px; margin-bottom: 5px;">Close</button>'),R=c("<br>"),ae=c('<button class="btn btn-primary">Download Result</button>'),de=c("<table><thead><tr></tr></thead><tbody></tbody></table>"),se=c('<div style="flex-grow: 1; display: flex; flex-direction: column; overflow: hidden;"><div><h2>AD to Pronto Gtin Converter</h2></div><div style="flex-grow: 1; overflow: scroll;"><h3>Single Item Test</h3><table><thead></thead><tbody><tr><td style="text-align: right; border: none;"><b>AD Product Code:</b></td><td style="border: none;"><input type="text" value="FL/55/200/3/CCC"></td></tr><tr><td style="text-align: right; border: none;"><b>Pronto Gtin:</b></td><td style="border: none;"><input type="text"></td></tr><tr><td style="text-align: right; vertical-align: top; border: none;"><b>Description:</b></td><td style="border: none;"></td></tr></tbody></table><br><h3>Whole Table</h3></div></div>'),ce=c("<b>STE_component_prod.csv</b>"),ge=c("<b>Upload:</b>"),fe=c('<input type="file">'),he=c("<th></th>"),pe=c("<tr></tr>"),be=c("<td></td>"),W=t=>{{let r=Ce(t);if(r!=null)return{type:"Cee",...r}}{let r=ye(t);if(r!=null)return{type:"Zed",...r}}{let r=Fe(t);if(r!=null)return{type:"Angle",...r}}{let r=we(t);if(r!=null)return{type:"Flashing",...r}}{let r=Re(t);if(r!=null)return{type:"Sheeting",...r}}{let r=Ge(t);if(r!=null)return{type:"GpBracket",...r}}{let r=Le(t);if(r!=null)return{type:"AcBracket",...r}}{let r=De(t);if(r!=null)return{type:"TopHat",...r}}{let r=Ue(t);if(r!=null)return{type:"SHS",...r}}{let r=Oe(t);if(r!=null)return{type:"Roll Top Ridge",...r}}{let r=je(t);if(r!=null)return{type:"V Ridge Capping",...r}}},j=t=>{switch(t.type){case"Cee":return xe(t);case"Zed":return ke(t);case"Angle":return Ae(t);case"Flashing":return Te(t);case"Sheeting":return Ie(t);case"GpBracket":return Me(t);case"AcBracket":return Be(t);case"TopHat":return He(t);case"SHS":return Ee(t);case"Roll Top Ridge":return We(t);case"V Ridge Capping":return Xe();default:return}},Ce=t=>{const r=/^PGC(P?)\/([0-9]+)\/([0-9]+(\.[0-9]*)?)$/;let e=t.match(r);if(e==null)return me(t);let n=e[1]=="P",l=e[2],i=e[3];return{punched:n,size:l,gauge:i}},me=t=>{const r=/^ELC(P?)\/([0-9]+)\/([0-9]+)$/;let e=t.match(r);if(e==null)return Pe(t);let n=e[1]=="P",l=e[2],i;{let a=e[3];a.length==2?i=e[3][0]+"."+e[3][1]:i=a}return{punched:n,size:l,gauge:i}},Pe=t=>{const r=/^K\.C([0-9][0-9][0-9])([0-9][0-9])(U?)$/;let e=t.match(r);if(e==null)return $e(t);let n=e[3]!="U",l=e[1],i=e[2][0]+"."+e[2][1];return{punched:n,size:l,gauge:i}},$e=t=>{const r=/^P(U?)([0-9][0-9][0-9])([0-9][0-9])$/;let e=t.match(r);if(e==null)return;let n=e[1]!="U",l=e[2],i=e[3][0]+"."+e[3][1];return{punched:n,size:l,gauge:i}},xe=t=>{let r=Number.parseFloat(t.gauge);if(!Number.isFinite(r))return;let e=(r*10).toFixed(0);return e.length==1&&(e="0"+e),"C"+t.size+e+"LM"},ye=t=>{const r=/^PGZ(P?)\/([0-9]+)\/([0-9]+(\.[0-9]*)?)$/;let e=t.match(r);if(e==null)return _e(t);let n=e[1]=="P",l=e[2],i=e[3];return{punched:n,size:l,gauge:i}},_e=t=>{const r=/^ELZ(P?)\/([0-9]+)\/([0-9]+)$/;let e=t.match(r);if(e==null)return ve(t);let n=e[1]=="P",l=e[2],i;{let a=e[3];a.length==2?i=e[3][0]+"."+e[3][1]:i=a}return{punched:n,size:l,gauge:i}},ve=t=>{const r=/^K\.Z([0-9][0-9][0-9])([0-9][0-9])(U?)$/;let e=t.match(r);if(e==null)return Se(t);let n=e[3]!="U",l=e[1],i=e[2][0]+"."+e[2][1];return{punched:n,size:l,gauge:i}},Se=t=>{const r=/^P(U?)([0-9][0-9][0-9])([0-9][0-9])Z$/;let e=t.match(r);if(e==null)return;let n=e[1]!="U",l=e[2],i=e[3][0]+"."+e[3][1];return{punched:n,size:l,gauge:i}},ke=t=>{let r=Number.parseFloat(t.gauge);if(!Number.isFinite(r))return;let e=(r*10).toFixed(0);return e.length==1&&(e="0"+e),"Z"+t.size+e+"LM"},Fe=t=>{let r=/^AT\/([0-9]+(\.[0-9]*)?)\/([0-9]+)\/([0-9]+)\/([0-9]+)M$/,e=t.match(r);if(e==null)return Ze(t);let n=e[1],l=e[3],i=e[4],a=e[5];return{width:l,height:i,gauge:n,stockLength:a}},Ze=t=>{let r=/^EGTA\/([0-9]+)\/([0-9]+)\/([0-9]+(.[0-9]*)?)$/,e=t.match(r);if(e==null)return;let n=e[1],l=e[2],i=e[3];return{width:n,height:l,gauge:i,stockLength:"6"}},Ae=t=>{let r=Number.parseFloat(t.gauge);if(!Number.isFinite(r))return;let e=(r*10).toFixed(0);e.length==1&&(e="0"+e);let n=Number.parseFloat(t.stockLength);if(!Number.isFinite(n))return;let l=(n*10).toFixed(0);return"TANG"+t.width+t.height+e+l},we=t=>{let r=/^FL\/([0-9]+)\/([0-9]+)\/([0-9]+)\/(ZA|C([A-Z][A-Z]))$/,e=t.match(r);if(e==null)return Ne(t);let n=e[1],l=e[2],i=e[3],a;return e[4]=="ZA"?a={type:"Zinc"}:a={type:"Colorbond",colourCode:e[5]},{gauge:n,totalWidth:l,numFolds:i,material:a}},Ne=t=>{let r=/^FL\/([0-9]+)\/([0-9]+)\/([0-9]+)\/\?\?$/,e=t.match(r);if(e==null)return;let n=e[1],l=e[2],i=e[3];return{gauge:n,totalWidth:l,numFolds:i,material:{type:"Colorbond",colourCode:"??"}}},Te=t=>{let r;switch(t.material.type){case"Zinc":r="Z";break;case"Colorbond":r=t.material.colourCode;break}return(t.gauge=="40"?"4":"")+"F"+t.totalWidth+"-"+t.numFolds+"-"+r},Re=t=>{let r=/^(C|SC)\/([0-9]+)\/(ZA|C([A-Z][A-Z]))$/,e=t.match(r);if(e==null)return ze(t);let n;e[1]=="C"?n="Corrugated":n="Steelclad";let l=e[2],i;return e[3]=="ZA"?i={type:"Zinc"}:i={type:"Colorbond",colourCode:e[4]},{profile:n,gauge:l,material:i}},ze=t=>{let r=/^(C|SC)\/([0-9]+)\/C$/,e=t.match(r);if(e==null)return;let n;e[1]=="C"?n="Corrugated":n="Steelclad";let l=e[2];return{profile:n,gauge:l,material:{type:"Colorbond",colourCode:"??"}}},Ie=t=>{let r="";switch(t.profile){case"Corrugated":r+="C";break;case"Steelclad":r+="S";break}switch(r+=t.gauge,t.material.type){case"Zinc":r+="Z";break;case"Colorbond":r+=t.material.colourCode;break}return r},Ge=t=>{let r=/^PGPB\/([0-9]+)$/,e=t.match(r);return e==null?void 0:{size:e[1]}},Me=t=>{switch(t.size){case"100":return"23ZZ0";case"150":return"24000";case"200":return"24010";case"250":return"24020";default:return}},Le=t=>{let r=/^PAC\/([0-9]+)$/,e=t.match(r);return e==null?void 0:{size:e[1]}},Be=t=>{switch(t.size){case"150":return"23ZU0";case"200":return"23ZV0";case"250":return"23ZW0";default:return}},De=t=>{let r=/^TH\/([0-9]+)\/([0-9]+)$/,e=t.match(r);if(e==null)return;let n=e[1],l=e[2];return{height:n,gauge:l}},He=t=>{let r=t.gauge;for(;r.length<3;)r="0"+r;return"TH"+t.height+r},Ue=t=>{let r=/^CARPORT POST ([0-9]+)X([0-9]+(.[0-9]*)?) ([0-9]+)MM$/,e=t.match(r);if(e==null)return;let n=e[1],l=e[2],i=e[4];return{size:n,gauge:l,stockLength:i}},Ee=t=>{let r=Number.parseFloat(t.gauge);if(!Number.isFinite(r))return;r*=10;let e=r.toFixed(0),n=Number.parseInt(t.stockLength);if(!Number.isFinite(n))return;let l=(n/1e3*10).toFixed(0);return"SHS"+t.size+t.size+e+l+"PTD"},Oe=t=>{let r=/^RT(M?)\/([0-9]+)\/(ZA|C([A-Z][A-Z]))$/,e=t.match(r);if(e==null)return Ve(t);let n=e[2],l;if(e[3]=="ZA"){if(e[1]=="M")return;l={type:"Zinc"}}else l={type:"Colorbond",matt:e[1]=="M",colourCode:e[4]};return{gauge:n,material:l}},Ve=t=>{let r=/^RT(M?)\/([0-9]+)\/C$/,e=t.match(r);if(e==null)return;let n=e[2],l={type:"Colorbond",matt:e[1]=="M",colourCode:"??"};return{gauge:n,material:l}},We=t=>{if(t.gauge.length==0)return;let r;switch(t.material.type){case"Zinc":r="Z";break;case"Colorbond":r=(t.material.matt?"M":"")+t.material.colourCode;break}return"RTR"+t.gauge[0]+r},je=t=>{let r=/^VR(C|SC)(M?)\/([0-9]+)\/(ZA|C([A-Z][A-Z]))$/,e=t.match(r);if(e==null)return Ke(t);let n=e[1]=="C"?"Corrugated":"Steelclad",l=e[3],i;if(e[4]=="ZA"){if(e[2]=="M")return;i={type:"Zinc"}}else i={type:"Colorbond",matt:e[2]=="M",colourCode:e[5]};return{profile:n,gauge:l,material:i}},Ke=t=>{let r=/^VR(C|SC)(M?)\/([0-9]+)\/C$/,e=t.match(r);if(e==null)return;let n=e[1]=="C"?"Corrugated":"Steelclad",l=e[3],i={type:"Colorbond",matt:e[2]=="M",colourCode:"??"};return{profile:n,gauge:l,material:i}},Xe=t=>{},K=t=>{let r=C(()=>t.val==null?[]:t.val instanceof Object?Object.keys(t.val):[]);return d(O,{get fallback(){return[]},get children(){return[d(I,{get when(){return t.val!=null&&!(t.val instanceof Object)},get children(){return t.val.toString()}}),d(I,{get when(){return t.val!=null&&t.val instanceof Object},get children(){const e=ie.cloneNode(!0),n=e.firstChild,l=n.nextSibling;return h(l,d(z,{get each(){return r()},children:i=>{let a=C(()=>{if(t.val!=null)return t.val[i()]});return(()=>{const k=ue.cloneNode(!0),F=k.firstChild,g=F.firstChild,f=g.firstChild,p=F.nextSibling;return h(g,i,f),h(p,d(K,{get val(){return a()}})),k})()}})),e}})]}})},Ye=t=>{J(()=>{document.title="Tool Box - ACT Dim To Pronto item code converter"});const r="FL/55/200/3/CCC",[e,n]=Q({adProductCode:r,convertedCount:0,totalCount:0,supplierInternalColIdx:0}),l=C(()=>W(e.adProductCode)),i=C(()=>{let g=l();if(g!=null)return j(g)}),a=g=>{let f=new FileReader;f.onload=p=>{let G=f.result;ne(G,(M,L)=>{let o=L;if(o.length==0)return;let m;for(let u=0;u<o[0].length;++u)if(o[0][u]=="Supplier"){m=u;break}if(m==null)return;let P;for(let u=0;u<o[0].length;++u)if(o[0][u]=="ProductCode"){P=u;break}if(P==null)return;let b;for(let u=0;u<o[0].length;++u)if(o[0][u]=="SupplierInternal"){b=u;break}if(b==null)return;let y;for(let u=0;u<o[0].length;++u)if(o[0][u]=="AvailableRegions"){y=u;break}if(y==null)return;for(let u=o.length-1;u>=1;--u){if(o[u][m]!="Steeline"){o.splice(u,1);continue}if(!o[u][y].includes("Toow")){o.splice(u,1);continue}}let _=0,Z=!0;for(let u of o){if(Z){Z=!1;continue}if(P>=u.length)continue;let A=u[P],w=W(A);if(w==null)continue;let N=j(w);if(N!=null){for(;u.length<=b;)u.push("");u[b]=N,_+=1}}let B=b;te(()=>{n("table",o),n("convertedCount",_),n("totalCount",o.length),n("supplierInternalColIdx",B)})})},f.readAsText(g)},k=()=>{e.table!=null&&le(e.table,(g,f)=>{let p=new Blob([f],{type:"text/csv"});re.saveAs(p,"result.csv")})};let F=C(()=>e.table==null?[]:e.table.length==0?[]:e.table[0]);return(()=>{const g=se.cloneNode(!0),f=g.firstChild;f.firstChild;const p=f.nextSibling,G=p.firstChild,M=G.nextSibling,L=M.firstChild,o=L.nextSibling,m=o.firstChild,P=m.firstChild,b=P.nextSibling,y=b.firstChild,_=m.nextSibling,Z=_.firstChild,B=Z.nextSibling,u=B.firstChild,A=_.nextSibling,w=A.firstChild,N=w.nextSibling;return M.nextSibling.nextSibling,h(f,d(Y,{get when(){return t.onClose!=null},get children(){return[(()=>{const s=oe.cloneNode(!0);return s.$$click=()=>{t.onClose!=null&&t.onClose()},s})(),R.cloneNode(!0)]}}),null),y.$$input=s=>{let $=s.target;n("adProductCode",$.value.trim())},u.readOnly=!0,h(N,d(O,{get fallback(){return"no match"},get children(){return d(I,{get when(){return l()!=null},get children(){return d(K,{get val(){return l()}})}})}})),h(p,d(O,{get fallback(){return["File will likely be called ",ce.cloneNode(!0)," and will need all the columns available.",R.cloneNode(!0),ge.cloneNode(!0),(()=>{const s=fe.cloneNode(!0);return s.addEventListener("change",$=>{let v=$.target.files;if(v==null||v.length==0)return;let S=v[0];a(S)}),s})()]},get children(){return d(I,{get when(){return e.table!=null},get children(){return["Successfully converted ",U(()=>e.convertedCount)," of ",U(()=>e.totalCount)," product codes to pronto codes. (",U(()=>(e.convertedCount*100/e.totalCount).toFixed(1)),"%)",R.cloneNode(!0),(()=>{const s=ae.cloneNode(!0);return s.$$click=k,s})(),R.cloneNode(!0),(()=>{const s=de.cloneNode(!0),$=s.firstChild,V=$.firstChild,v=$.nextSibling;return h(V,d(z,{get each(){return F()},children:(S,D)=>{let T=C(()=>{if(D==e.supplierInternalColIdx)return"#80FF80"});return(()=>{const x=he.cloneNode(!0);return h(x,S),E(()=>x.style.setProperty("background",T())),x})()}})),h(v,d(z,{get each(){return e.table??[]},children:(S,D)=>D==0?[]:(()=>{const T=pe.cloneNode(!0);return h(T,d(z,{get each(){return S()},children:(x,X)=>{let q=C(()=>{if(X==e.supplierInternalColIdx)return x()==""?"#FFA0A0":"#A0FFA0"});return(()=>{const H=be.cloneNode(!0);return h(H,x),E(()=>H.style.setProperty("background",q())),H})()}})),T})()})),s})()]}})}}),null),E(()=>u.value=i()??"no match"),g})()};ee(["click","input"]);export{Ye as default};
